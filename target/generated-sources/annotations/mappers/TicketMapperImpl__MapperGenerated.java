package mappers;

import com.datastax.oss.driver.internal.core.util.concurrent.LazyReference;
import com.datastax.oss.driver.internal.mapper.DaoCacheKey;
import com.datastax.oss.driver.internal.mapper.DefaultMapperContext;
import dao.TicketDao;
import dao.TicketDaoImpl__MapperGenerated;
import java.lang.Override;
import java.lang.String;
import java.lang.SuppressWarnings;
import java.util.concurrent.ConcurrentHashMap;
import java.util.concurrent.ConcurrentMap;

/**
 * Do not instantiate this class directly, use {@link TicketMapperBuilder} instead.
 *
 * <p>Generated by the DataStax driver mapper, do not edit directly.
 */
@SuppressWarnings("all")
public class TicketMapperImpl__MapperGenerated implements TicketMapper {
  private final DefaultMapperContext context;

  private final LazyReference<TicketDao> ticketDaoCache1;

  private final ConcurrentMap<DaoCacheKey, TicketDao> ticketDaoCache = new ConcurrentHashMap<>();

  public TicketMapperImpl__MapperGenerated(DefaultMapperContext context) {
    this.context = context;
    this.ticketDaoCache1 = new LazyReference<>(() -> TicketDaoImpl__MapperGenerated.init(context));
  }

  @Override
  public TicketDao ticketDao(String keyspace, String table) {
    DaoCacheKey key = new DaoCacheKey(keyspace, table, null, null);
    return ticketDaoCache.computeIfAbsent(key, k -> TicketDaoImpl__MapperGenerated.init(context.withDaoParameters(k.getKeyspaceId(), k.getTableId(), k.getExecutionProfileName(), k.getExecutionProfile())));
  }

  @Override
  public TicketDao ticketDao() {
    return ticketDaoCache1.get();
  }
}
